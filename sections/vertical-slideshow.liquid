<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
{{ 'vertical-slideshow.css' | asset_url | stylesheet_tag }}

{% style %}
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
      padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
    }
      @media screen and (min-width: 750px) {
        .section-{{ section.id }}-padding {
          padding-top: {{ section.settings.padding_top }}px;
          padding-bottom: {{ section.settings.padding_bottom }}px;
        }
      }
     .swiper-container .slider-content .slider_title {
       font-weight: {{ section.settings.title_font_weight }};
       font-size: {{ section.settings.title_font_size }}px;
      }

   .swiper-container .slider-content p {
     font-weight: {{ section.settings.des_font_weight }};
     font-size: {{ section.settings.des_font_size }}px;
    }

   #vertical-slideshow .slider-content-wrapper .slider-content {
       max-width: 40rem;
       padding: 3rem;
       border-radius: var(--all-section-border-radius);
         box-shadow: 0 0 .3rem .1rem #0000001b;
   }

  #vertical-slideshow .swiper-container .slider-content .slider_title {
    margin: 0;
  }


   @media screen and (max-width: 749px) {
    .swiper-container{
       height: {{ section.settings.mobile_slider_height }} !important;
    }
      {% if section.settings.show_content_mobile %}
       .mobile-content-slider {
         display: block;
       }
       .swiper-container .swiper-slide .slider-content-wrapper {
         display: none;
       }
     {% else %}
       .mobile-content-slider {
         display: none;
       }
       .swiper-container .swiper-slide .slider-content-wrapper {
         display: block;
       }
     {% endif %}
   }
{% endstyle %}
<div
  class="slider-vertical section-{{ section.id }}-padding color-{{ section.settings.color_scheme }}"
  id="vertical-slideshow"
>
  <div
    class="swiper-container "
    id="Slider-verticle-{{ section.id }}"
    style="height: {{ section.settings.slider_height }};"
  >
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <style>
          #Vertical-Slide-{{ section.id }}-{{ forloop.index }} .background::after {
            opacity: {{ block.settings.image_overlay_opacity | divided_by: 100.0 }};
          }
        </style>
        {% liquid
          assign background = block.settings.color_scheme.settings.background
          assign text_color = block.settings.color_scheme.settings.text
          assign solid_button_background = block.settings.color_scheme.settings.button
          assign solid_button_label = block.settings.color_scheme.settings.button_label
          assign outline_button = block.settings.color_scheme.settings.secondary_button_label
        %}
        <div class="swiper-slide show_text_below" id="Vertical-Slide-{{ section.id }}-{{ forloop.index }}">
          {% if block.settings.background_image != blank %}
            <div class="background">
              {{
                block.settings.background_image
                | image_url: height: block.settings.background_image.height
                | image_tag: class: 'desktop-image', alt: 'Desktop Image'
              }}
              {% if block.settings.mobile_image != blank %}
                {{
                  block.settings.mobile_image
                  | image_url: height: block.settings.mobile_image.height
                  | image_tag: class: 'mobile-image', alt: 'Mobile Image'
                }}

              {% else %}
                {{ 'lifestyle-2' | placeholder_svg_tag: 'placeholder_svg_tag' }}
              {% endif %}
            </div>
          {% else %}
            <div class="background">
              {{ 'lifestyle-2' | placeholder_svg_tag: 'placeholder_svg_tag' }}
            </div>
          {% endif %}

          <div
            class="slider-content-wrapper {{ block.settings.content_position }} {{ block.settings.content_alignment }}"
          >
            <div
              class="slider-content animate__animated"
              data-content="{{ block.id }} {{ block.settings.content_position }}"
              style="color: {{ text_color }}; {% if section.settings.show_content_desktop_block %}background-color: {{ background }}{% endif %}"
              data-animation="{{ block.settings.content_animation }}"
            >
              {% if block.settings.title != blank %}
                <h1 class="slider_title" style="color: {{ text_color }}">
                  {{ block.settings.title }}
                </h1>
              {% endif %}
              {% if block.settings.description %}
                {{ block.settings.description }}
              {% endif %}
              {% if block.settings.button_text != blank %}
                <div class="slide_btn_container">
                  <a
                    class="cc-xboost-slider-button button"
                    href="{{ block.settings.button_link }}"
                    style="color: {{ solid_button_label }}; background-color: {{ solid_button_background }}; border-color: {{ outline_button }}"
                  >
                    {% if block.settings.button_text != blank %} {{ block.settings.button_text }} {% endif -%}
                  </a>
                </div>
              {% endif %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>

    <div class="swiper-pagination"></div>
  </div>
</div>
<!-- mobile content slider -->
{% for block in section.blocks %}
  {% liquid
    assign background = block.settings.color_scheme.settings.background
    assign text_color = block.settings.color_scheme.settings.text
    assign solid_button_background = block.settings.color_scheme.settings.button
    assign solid_button_label = block.settings.color_scheme.settings.button_label
    assign outline_button = block.settings.color_scheme.settings.secondary_button_label
  %}
  <div
    class="mobile-content-slider"
    style="color: {{ text_color }}; background-color: {{ background }}"
  >
    {% if block.settings.title != blank %}
      <h1 class="slider_title" style="color: {{ text_color }}">{{ block.settings.title }}</h1>
    {% endif %}
    {% if block.settings.description %}
      {{ block.settings.description }}
    {% endif %}
    {% if block.settings.button_link != blank %}
      <div class="slide_btn_container">
        <a
          class="cc-xboost-slider-button button"
          style="color: {{ solid_button_label }}; background-color: {{ solid_button_background }}; border-color: {{ outline_button }}"
          href="{{ block.settings.button_link }}"
        >
          {% if block.settings.button_text != blank %} {{ block.settings.button_text }} {% endif -%}
        </a>
      </div>
    {% endif %}
  </div>
{% endfor %}
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
  const sliders = document.querySelectorAll("#Slider-verticle-{{ section.id }}");

  sliders.forEach(function (sliderEl) {
    const swiper = new Swiper(sliderEl, {
      direction: window.innerWidth <= 749 ? "horizontal" : "{{ section.settings.slider_direction }}",
      effect: "{{ section.settings.slider_effect }}",
      speed: 1500,
      loop: true,
      autoplay: false,
      breakpoints: {
        768: {
          {% if section.settings.autoplay %}
          autoplay: {
            enabled: true,
            delay: {{ section.settings.slider_speed }},
          },
          {% endif %}
        }
      },
      pagination: {
        el: sliderEl.querySelector(".swiper-pagination"), // scoped pagination
        clickable: true,
      },
      on: {
        slideChange: function () {
          this.slides.forEach((slide) => {
            let background = slide.querySelector(".background");
            let content = slide.querySelector(".slider-content");

            const animationClasses = [
              "animate__animated",
              "animate__fadeIn",
              "animate__slideUp",
              "animate__zoomIn",
              "animate__slideFromTop",
              "animate__slideFromBottom",
              "animate__slideFromLeft",
              "animate__slideFromRight",
              "animate__spin"
            ];

            if (content) {
              content.classList.remove(...animationClasses);
            }

            if (background) {
              background.classList.remove("animation");
              background.style.zIndex = "";
            }
          });

          let activeSlide = this.slides[this.activeIndex];
          let background = activeSlide.querySelector(".background");
          let content = activeSlide.querySelector(".slider-content");

          if (background) {
            background.classList.add("animation");
            background.style.zIndex = "-1";
          }

          if (content) {
            const animation = content.getAttribute("data-animation");
            if (animation) {
              let animationClass = "";
              switch (animation) {
                case "top":
                  animationClass = "animate__slideFromTop";
                  break;
                case "bottom":
                  animationClass = "animate__slideFromBottom";
                  break;
                case "left":
                  animationClass = "animate__slideFromLeft";
                  break;
                case "right":
                  animationClass = "animate__slideFromRight";
                  break;
                case "slideUp":
                  animationClass = "animate__slideUp";
                  break;
                case "fadeIn":
                  animationClass = "animate__fadeIn";
                  break;
                case "zoomIn":
                  animationClass = "animate__zoomIn";
                  break;
                case "spin":
                  animationClass = "animate__spin";
                  break;
              }
              content.classList.add("animate__animated", animationClass);
            }
          }
        },
      },
    });
  });
});



        // mobile content slider js
    document.addEventListener('DOMContentLoaded', function () {
      const mobileContentSliderItems = document.querySelectorAll('.mobile-content-slider');
      const sliderContentWrapper = document.querySelectorAll('.swiper-container .swiper-slide .slider-content-wrapper');
      const showContentMobile = {{ section.settings.show_content_mobile | json }};

      function updateVisibility() {
        const isMobile = window.innerWidth <= 749;

        if (isMobile) {
          if (showContentMobile) {
            mobileContentSliderItems.forEach((item, index) => {
              item.style.display = index === 0 ? 'block' : 'none';
              item.style.opacity = index === 0 ? '1' : '0';
              item.style.visibility = index === 0 ? 'visible' : 'none';
            });

            sliderContentWrapper.forEach(wrapper => {
              wrapper.style.display = 'none';
              wrapper.style.opacity = '0';
              wrapper.style.visibility = 'none';
            });


            swiper.on('slideChange', function () {
              const activeIndex = swiper.activeIndex;


              mobileContentSliderItems.forEach(item => {
                item.style.display = 'none';
                item.style.opacity = '0';
                item.style.visibility = 'none';
              });


              if (mobileContentSliderItems[activeIndex]) {
                mobileContentSliderItems[activeIndex].style.display = 'block';
                mobileContentSliderItems[activeIndex].style.opacity = '1';
                mobileContentSliderItems[activeIndex].style.visibility = 'visible';
              }
            });
          } else {

            mobileContentSliderItems.forEach(item => {
              item.style.display = 'none';
              item.style.opacity = '0';
                item.style.visibility = 'none';
            });


            sliderContentWrapper.forEach(wrapper => {
              wrapper.style.display = 'block';
              wrapper.style.opacity = '1';
              wrapper.style.visibility = 'visible';
            });
          }
        } else {

          mobileContentSliderItems.forEach(item => {
            item.style.display = 'none';
            item.style.opacity = '0';
                item.style.visibility = 'none';
          });


          sliderContentWrapper.forEach(wrapper => {
            wrapper.style.display = 'block';
            wrapper.style.opacity = '1';
              wrapper.style.visibility = 'visible';
          });
        }
      }

      updateVisibility();
      window.addEventListener('resize', updateVisibility);
    });
</script>

{% schema %}
{
  "name": "t:sections.vertical_slideshow.name",
  "settings": [
     {
      "type": "header",
      "content": "t:sections.vertical_slideshow.settings.section_settings.content"
    },
    {
      "type": "select",
      "id": "slider_direction",
      "label": "t:sections.vertical_slideshow.settings.slider_direction.label",
      "options": [
          {
            "value": "vertical",
            "label": "t:sections.vertical_slideshow.settings.slider_direction.option_1.label"
          },
          {
            "value": "horizontal",
            "label": "t:sections.vertical_slideshow.settings.slider_direction.option_2.label"
          }
      ],
      "default": "vertical"
     },
     {
      "type": "select",
      "id": "slider_effect",
      "label": "t:sections.vertical_slideshow.settings.slider_effect.label",
      "options": [
          {
            "value": "fade",
            "label": "t:sections.vertical_slideshow.settings.slider_effect.option_1.label"
          },
          {
            "value": "slide",
            "label": "t:sections.vertical_slideshow.settings.slider_effect.option_2.label"
          },
          {
            "value": "flip",
            "label": "t:sections.vertical_slideshow.settings.slider_effect.option_3.label"
          },
          {
            "value": "cube",
            "label": "t:sections.vertical_slideshow.settings.slider_effect.option_4.label"
          }
      ],
      "default": "slide"
     },
    {
      "type": "select",
      "id": "slider_height",
      "label": "t:sections.vertical_slideshow.settings.slider_height.label",
      "options": [
        {
          "value": "45rem",
          "label": "t:sections.vertical_slideshow.settings.slider_height.option_1.label"
        },
        {
          "value": "70rem",
          "label": "t:sections.vertical_slideshow.settings.slider_height.option_2.label"
        },
        {
          "value": "90rem",
          "label": "t:sections.vertical_slideshow.settings.slider_height.option_3.label"
        }
      ],
      "default": "70rem"
    },
    {
  "type": "select",
  "id": "mobile_slider_height",
  "label": "t:sections.vertical_slideshow.settings.mobile_slider_height.label",
  "options": [
    {
      "value": "45rem",
      "label": "t:sections.vertical_slideshow.settings.mobile_slider_height.option_1.label"
    },
    {
      "value": "60rem",
      "label": "t:sections.vertical_slideshow.settings.mobile_slider_height.option_2.label"
    },
    {
      "value": "80rem",
      "label": "t:sections.vertical_slideshow.settings.mobile_slider_height.option_3.label"
    }
  ],
  "default": "60rem"
},

     {
        "type": "range",
        "id": "slider_speed",
        "min": 100,
        "max": 3000,
        "step": 100,
        "default": 1000,
        "label": "t:sections.vertical_slideshow.settings.slider_speed.label"
      },
     {
        "type": "checkbox",
        "id": "autoplay",
        "label": "t:sections.vertical_slideshow.settings.autoplay.label",
       "default": true
      },
     {
      "type": "header",
      "content": "t:sections.vertical_slideshow.settings.font_settings.content"
    },
     {
        "type": "range",
        "id": "title_font_size",
        "min": 10,
        "max": 80,
        "step": 1,
        "default": 30,
         "unit": "px",
        "label": "t:sections.vertical_slideshow.settings.title_font_size.label"
      },
      {
        "type": "select",
        "id": "title_font_weight",
        "label": "t:sections.vertical_slideshow.settings.title_font_weight.label",
        "options": [
          {
            "label": "t:sections.vertical_slideshow.settings.title_font_weight.option_1.label",
            "value": "400"
          },
          {
            "label": "t:sections.vertical_slideshow.settings.title_font_weight.option_2.label",
            "value": "700"
          }
        ],
        "default": "400"
      },
    {
        "type": "range",
        "id": "des_font_size",
        "min": 10,
        "max": 80,
        "step": 1,
        "default": 15,
         "unit": "px",
        "label": "t:sections.vertical_slideshow.settings.des_font_size.label"
      },
      {
        "type": "select",
        "id": "des_font_weight",
        "label": "t:sections.vertical_slideshow.settings.des_font_weight.label",
        "options": [
          {
            "label": "t:sections.vertical_slideshow.settings.des_font_weight.option_1.label",
            "value": "400"
          },
          {
            "label": "t:sections.vertical_slideshow.settings.des_font_weight.option_2.label",
            "value": "700"
          }
        ],
        "default": "400"
      },
      {
          "type": "checkbox",
          "id": "show_content_desktop_block",
          "label": "t:sections.vertical_slideshow.settings.show_content_desktop_block.label",
        "default": true
      },
      {
          "type": "checkbox",
          "id": "show_content_mobile",
          "label": "t:sections.vertical_slideshow.settings.show_content_mobile.label",
        "default": true
      },
      {
        "type": "header",
        "content": "t:sections.all.padding.section_padding_heading"
      },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "t:sections.vertical_slideshow.blocks.slide.name",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "t:sections.vertical_slideshow.blocks.slide.settings.title.label",
          "default": "t:sections.vertical_slideshow.blocks.slide.settings.title.default"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "t:sections.vertical_slideshow.blocks.slide.settings.description.label",
          "default": "t:sections.vertical_slideshow.blocks.slide.settings.description.default"
        },

        {
          "type": "text",
          "id": "button_text",
          "label": "t:sections.vertical_slideshow.blocks.slide.settings.button_text.label",
          "default": "t:sections.vertical_slideshow.blocks.slide.settings.button_text.default"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "t:sections.vertical_slideshow.blocks.slide.settings.button_link.label"
        },
        {
          "type": "image_picker",
          "id": "background_image",
          "label": "t:sections.vertical_slideshow.blocks.slide.settings.background_image.label"
        },
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "t:sections.vertical_slideshow.blocks.slide.settings.mobile_image.label"
        },
             {
      "type": "select",
      "id": "content_position",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.label",
      "options": [
          {
            "value": "top-left",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_1.label"
          },
        {
            "value": "top-center",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_2.label"
          },
        {
            "value": "top-right",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_3.label"
          },
         {
            "value": "middle-left",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_4.label"
          },
         {
            "value": "middle-center",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_5.label"
          },
         {
            "value": "middle-right",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_6.label"
          },
          {
            "value": "bottom-left",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_7.label"
          },
         {
            "value": "bottom-center",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_8.label"
          },
          {
            "value": "bottom-right",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_position.option_9.label"
          }
      ],
      "default": "middle-left"
     },
             {
      "type": "select",
      "id": "content_alignment",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_alignment.label",
      "options": [
          {
            "value": "left",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_alignment.option_1.label"
          },
        {
            "value": "center",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_alignment.option_2.label"
        },
        {
            "value": "right",
            "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_alignment.option_3.label"
        },
      ],
      "default": "left"
     },
         {
          "type": "range",
          "id": "image_overlay_opacity",
          "min": 0,
          "max": 100,
          "step": 10,
          "unit": "%",
          "label": "t:sections.slideshow.blocks.slide.settings.image_overlay_opacity.label",
          "default": 20
        },
     {
        "type": "header",
        "content": "t:sections.vertical_slideshow.blocks.slide.settings.section_colors.label"
      },
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:sections.all.colors.label",
        "default": "scheme-1"
      },
{
  "type": "select",
  "id": "content_animation",
  "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.label",
  "options": [
    {
      "value": "fadeIn",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.option_1.label"
    },
    {
      "value": "slideUp",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.option_2.label"
    },
    {
      "value": "zoomIn",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.option_3.label"
    },
    {
      "value": "top",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.option_4.label"
    },
    {
      "value": "bottom",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.option_5.label"
    },
    {
      "value": "left",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.option_6.label"
    },
    {
      "value": "right",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.option_7.label"
    },
    {
      "value": "spin",
      "label": "t:sections.vertical_slideshow.blocks.slide.settings.content_animation.option_8.label"
    }
  ],
  "default": "zoomIn"
}

      ]
    }
  ],
  "presets": [
  {
    "name": "t:sections.vertical_slideshow.presets.name",
    "blocks": [
      {
        "type": "slide"
      },
      {
        "type": "slide"
      },
      {
        "type": "slide"
      },
    ]
  }
]
}
{% endschema %}
